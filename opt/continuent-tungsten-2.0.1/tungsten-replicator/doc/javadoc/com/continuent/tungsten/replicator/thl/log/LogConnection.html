<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_51) on Tue Jul 02 09:52:16 BST 2013 -->
<TITLE>
LogConnection (Tungsten API)
</TITLE>

<META NAME="date" CONTENT="2013-07-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LogConnection (Tungsten API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LogConnection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/DiskLog.html" title="class in com.continuent.tungsten.replicator.thl.log"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnectionManager.html" title="class in com.continuent.tungsten.replicator.thl.log"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?com/continuent/tungsten/replicator/thl/log/LogConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LogConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.continuent.tungsten.replicator.thl.log</FONT>
<BR>
Class LogConnection</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>com.continuent.tungsten.replicator.thl.log.LogConnection</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>LogConnection</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Implements client operations on the log. Each individual client of the log
 must instantiate a separate connection. The client must be released after use
 to avoid resource leaks.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.0</DD>
<DT><B>Author:</B></DT>
  <DD><a href="mailto:stephane.giron@continuent.com">Stephane Giron</a></DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#FIRST">FIRST</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Symbol representing the first seqno in a new log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#UNINITIALIZED">UNINITIALIZED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Simple representing base seqno of uninitialized log.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#commit()">commit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commit transactions stored in the log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#delete(java.lang.Long, java.lang.Long)">delete</A></B>(java.lang.Long&nbsp;low,
       java.lang.Long&nbsp;high)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete a range of events from the log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#isDone()">isDone</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if connection is no longer in use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#isReadonly()">isReadonly</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this is a read-only client.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/THLEvent.html" title="class in com.continuent.tungsten.replicator.thl">THLEvent</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#next()">next</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience method to return the next event with blocking enabled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/THLEvent.html" title="class in com.continuent.tungsten.replicator.thl">THLEvent</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#next(boolean)">next</A></B>(boolean&nbsp;block)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the next event in the log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#release()">release</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Releases the client connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#releaseInternal()">releaseInternal</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Releases the client connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#rollback()">rollback</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rollback transactions stored in the log.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#seek(long)">seek</A></B>(long&nbsp;seqno)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Positions cursor on first fragment of a specific event.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#seek(long, short)">seek</A></B>(long&nbsp;seqno,
     short&nbsp;fragno)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds a specific THLEvent and position client cursor on the event.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#seek(java.lang.String)">seek</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens a log file and positions client cursor on the event.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#setLogRotateMillis(int)">setLogRotateMillis</A></B>(int&nbsp;logRotateMillis)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the local connection value for reading a new file after a log
 rotation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#setReadFilter(com.continuent.tungsten.replicator.thl.log.LogEventReadFilter)">setReadFilter</A></B>(<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogEventReadFilter.html" title="interface in com.continuent.tungsten.replicator.thl.log">LogEventReadFilter</A>&nbsp;readFilter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the read filter, which determines whether events are fully
 deserialized on read.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#setTimeoutMillis(int)">setTimeoutMillis</A></B>(int&nbsp;timeoutMillis)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the timeout in milliseconds for blocking reads on this connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnection.html#store(com.continuent.tungsten.replicator.thl.THLEvent, boolean)">store</A></B>(<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/THLEvent.html" title="class in com.continuent.tungsten.replicator.thl">THLEvent</A>&nbsp;event,
      boolean&nbsp;commit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store a THL event at the end of the log.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="UNINITIALIZED"><!-- --></A><H3>
UNINITIALIZED</H3>
<PRE>
public static long <B>UNINITIALIZED</B></PRE>
<DL>
<DD>Simple representing base seqno of uninitialized log.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="FIRST"><!-- --></A><H3>
FIRST</H3>
<PRE>
public static long <B>FIRST</B></PRE>
<DL>
<DD>Symbol representing the first seqno in a new log.
<P>
<DL>
</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isReadonly()"><!-- --></A><H3>
isReadonly</H3>
<PRE>
public boolean <B>isReadonly</B>()</PRE>
<DL>
<DD>Returns true if this is a read-only client.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setReadFilter(com.continuent.tungsten.replicator.thl.log.LogEventReadFilter)"><!-- --></A><H3>
setReadFilter</H3>
<PRE>
public void <B>setReadFilter</B>(<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogEventReadFilter.html" title="interface in com.continuent.tungsten.replicator.thl.log">LogEventReadFilter</A>&nbsp;readFilter)</PRE>
<DL>
<DD>Sets the read filter, which determines whether events are fully
 deserialized on read. This implements query logic on scanned events.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setTimeoutMillis(int)"><!-- --></A><H3>
setTimeoutMillis</H3>
<PRE>
public void <B>setTimeoutMillis</B>(int&nbsp;timeoutMillis)</PRE>
<DL>
<DD>Sets the timeout in milliseconds for blocking reads on this connection.
 The value overrides the read timeout for the log as a whole.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setLogRotateMillis(int)"><!-- --></A><H3>
setLogRotateMillis</H3>
<PRE>
public void <B>setLogRotateMillis</B>(int&nbsp;logRotateMillis)</PRE>
<DL>
<DD>Sets the local connection value for reading a new file after a log
 rotation.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="release()"><!-- --></A><H3>
release</H3>
<PRE>
public void <B>release</B>()</PRE>
<DL>
<DD>Releases the client connection. This must be called to avoid resource
 leaks.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="releaseInternal()"><!-- --></A><H3>
releaseInternal</H3>
<PRE>
public void <B>releaseInternal</B>()</PRE>
<DL>
<DD>Releases the client connection. This must be called to avoid resource
 leaks.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isDone()"><!-- --></A><H3>
isDone</H3>
<PRE>
public boolean <B>isDone</B>()</PRE>
<DL>
<DD>Returns true if connection is no longer in use.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="seek(long, short)"><!-- --></A><H3>
seek</H3>
<PRE>
public boolean <B>seek</B>(long&nbsp;seqno,
                    short&nbsp;fragno)
             throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                    java.lang.InterruptedException</PRE>
<DL>
<DD>Finds a specific THLEvent and position client cursor on the event. The
 event in question may be past the end of the current log, in which case
 we position at the end. It is not possible to seek on an event that is
 before the beginning of the log.
 <p/>
 The current log seek semantics are slightly ambiguous due to the presence
 of filtered events, which introduce gaps in the log. The log seek may
 <em>falsely report</em> that it has found an event in the log if it hits
 a log rotate event at the end before finding a non-existent event. In
 this case it will place the cursor at the last event in the log, if it
 exists. This ambiguous case <em>only</em> occurs under the following
 circumstances:
 <ol>
 <li>The log file is still open for writing when the seek starts.</li>
 <li>The log rotates while the seek operation is being processed.</li>
 <li>The sought-for event ends up being written to the next log file.</li>
 </ol>
 </p>
 Conversely, seek may <em>fail</em> to find a filtered event if that event
 is the last event in the last log file and the filtered event includes a
 span of more than one sequence number.
 <p/>
 These ambiguities will be addressed in a future version of the log.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seqno</CODE> - Desired sequence number<DD><CODE>fragno</CODE> - Desired fragment
<DT><B>Returns:</B><DD>True if seek is successful and next() may be called; false if
         event does not exist, i.e., is before the beginning of the log
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE> - thrown if log cannot be read
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="seek(long)"><!-- --></A><H3>
seek</H3>
<PRE>
public boolean <B>seek</B>(long&nbsp;seqno)
             throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                    java.lang.InterruptedException</PRE>
<DL>
<DD>Positions cursor on first fragment of a specific event.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>seqno</CODE> - Desired sequence number
<DT><B>Returns:</B><DD>True if seek is successful and next() may be called; false if
         event does not exist
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE> - thrown if log cannot be read
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="seek(java.lang.String)"><!-- --></A><H3>
seek</H3>
<PRE>
public boolean <B>seek</B>(java.lang.String&nbsp;name)
             throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                    java.io.IOException,
                    java.lang.InterruptedException</PRE>
<DL>
<DD>Opens a log file and positions client cursor on the event. Clients may
 call next to read events.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The short name of a current log file
<DT><B>Returns:</B><DD>True if seek is successful and next() may be called
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE> - Thrown if the log cannot be read
<DD><CODE>java.io.IOException</CODE> - Thrown if file cannot be found
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="next(boolean)"><!-- --></A><H3>
next</H3>
<PRE>
public <A HREF="../../../../../../com/continuent/tungsten/replicator/thl/THLEvent.html" title="class in com.continuent.tungsten.replicator.thl">THLEvent</A> <B>next</B>(boolean&nbsp;block)
              throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                     java.lang.InterruptedException</PRE>
<DL>
<DD>Returns the next event in the log. If blocking is enabled, this will wait
 for a new event to arrive. If disabled, this call returns immediately if
 there is no next event. This method never returns an event with a seqno
 earlier than the client requested. If clients call next() after seeking
 past the end of the log, we therefore return the event corresponding to
 the seek() call or nothing.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>block</CODE> - If true, read blocks until next event is available
<DT><B>Returns:</B><DD>A THLEvent or null if we are non-blocking
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="next()"><!-- --></A><H3>
next</H3>
<PRE>
public <A HREF="../../../../../../com/continuent/tungsten/replicator/thl/THLEvent.html" title="class in com.continuent.tungsten.replicator.thl">THLEvent</A> <B>next</B>()
              throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                     java.lang.InterruptedException</PRE>
<DL>
<DD>Convenience method to return the next event with blocking enabled.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A THLEvent or null if we are non-blocking
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="store(com.continuent.tungsten.replicator.thl.THLEvent, boolean)"><!-- --></A><H3>
store</H3>
<PRE>
public void <B>store</B>(<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/THLEvent.html" title="class in com.continuent.tungsten.replicator.thl">THLEvent</A>&nbsp;event,
                  boolean&nbsp;commit)
           throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                  java.lang.InterruptedException</PRE>
<DL>
<DD>Store a THL event at the end of the log.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - THLEvent to store<DD><CODE>commit</CODE> - If true, flush to storage
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="commit()"><!-- --></A><H3>
commit</H3>
<PRE>
public void <B>commit</B>()
            throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                   java.lang.InterruptedException</PRE>
<DL>
<DD>Commit transactions stored in the log.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="rollback()"><!-- --></A><H3>
rollback</H3>
<PRE>
public void <B>rollback</B>()
              throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></PRE>
<DL>
<DD>Rollback transactions stored in the log.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="delete(java.lang.Long, java.lang.Long)"><!-- --></A><H3>
delete</H3>
<PRE>
public void <B>delete</B>(java.lang.Long&nbsp;low,
                   java.lang.Long&nbsp;high)
            throws <A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A>,
                   java.lang.InterruptedException</PRE>
<DL>
<DD>Delete a range of events from the log.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../com/continuent/tungsten/replicator/ReplicatorException.html" title="class in com.continuent.tungsten.replicator">ReplicatorException</A></CODE>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LogConnection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/DiskLog.html" title="class in com.continuent.tungsten.replicator.thl.log"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../com/continuent/tungsten/replicator/thl/log/LogConnectionManager.html" title="class in com.continuent.tungsten.replicator.thl.log"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?com/continuent/tungsten/replicator/thl/log/LogConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LogConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
